{% extends 'base.html' %}
{% load static %}

{% block head %}
  {% comment %} Link CSS file {% endcomment %}
  <script src="{% static 'js/investment-calculator.js' %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
{% endblock %}

{% block content %}

<section class="page-header">
  <h1>Investments</h1>
</section>
  <h2>Total Amount Spent Yearly: ${{yearly_price}}</h2>
  <h2>Total Amount Spent Monthly: ${{monthly_price}}</h2>

    <div class="jumbotron">
    <hr>
    <div class="container" id="simple-interest">
      <h3>Simple Interest</h3>
      <form id="siForm">
        <div class="form-group">
          <label for="principalSimple">Principal</label>
          <input type="text" class="form-control" id="principalSimple" placeholder="Enter amount without dollar sign" value="{{yearly_price}}">
        </div>
        <div class="form-group">
          <label for="interestSimple">Interest Rate</label>
          <input type="text" class="form-control" id="interestSimple" placeholder="Example: 12%">
        </div>
        <div class="form-group">
          <label for="termSimple">Length of Time</label>
          <input type="text" class="form-control" id="termSimple" placeholder="Years">
        </div>
        <button type="button" class="btn btn-primary" id="btnSimple" onClick="simpleInterest()">Submit</button>
      </form>
      <div>
        <p class="lead mt-3" id="siOutput-01"></p>
        <p class="lead mb-3" id="siOutput-02"></p>
      </div>
      <div class="text-center">
        <input class="btn btn-secondary btn-lg" type="button" value="Reset" onClick="document.getElementById('siForm').reset()">
      </div>
    </div>
    <br>
    <hr>
    <br>
    <div class="container" div="compound-interest ">
      <h3>Compound Interest</h3>
      <form id="ciForm">
        <div class="form-group">
          <label for="principalCompound">Principal</label>
          <input type="text" class="form-control" id="principalCompound" placeholder="Enter amount without dollar sign" value="{{yearly_price}}">
        </div>
        <div class="form-group">
          <label for="interestCompound">Interest Rate</label>
          <input type="text" class="form-control" id="interestCompound" placeholder="Example: 12%">
        </div>
        <div class="form-group">
          <label for="timesCompounded">Times Compounded per Year</label>
          <input type="text" class="form-control" id="timesCompounded" placeholder="2 (semi-annually)">
        </div>
        <div class="form-group">
          <label for="termCompound">Term of Loan</label>
          <input type="text" class="form-control" id="termCompound" placeholder="Years">
        </div>
        <button type="button" class="btn btn-primary" id="btnCompound" onclick="compoundInterest()">Submit</button>
      </form>
      <div>
        <p class="lead mt-3" id="ciOutput-01"></p>
        <p class="lead mb-3" id="ciOutput-02"></p>
      </div>
      <div class="text-center">
        <input class="btn btn-secondary btn-lg" type="button" value="Reset" onClick="document.getElementById('ciForm').reset()">
      </div>
    </div>
  </div>

  <div>
    <h1 id="totalInvestmentHeader">Total investment over the course of ___ Years: $___</h1>
    <canvas id="myChart" width="380" height="200"></canvas>
    <script>
      //Placeholder chart for populating page
      var ctx = document.getElementById('myChart').getContext('2d');
      var myChart = new Chart(ctx, {
          type: 'line',
          data: {
              labels: ['1', '2', '3', '4', '5'],
              datasets: [{
                  label: 'Investment Over Time',
                  backgroundColor: 'rgb(0,214,75, 0.2)',
                  data: [],
                  fill: true,
                  borderColor: 'rgb(0,214,75)',
                  tension: 0.1,
              }]
          },
          options: {
              scales: {
                  y: {
                      beginAtZero: true,
                  }
              }
          }
      });
    </script>
  </div>
{% endblock %}